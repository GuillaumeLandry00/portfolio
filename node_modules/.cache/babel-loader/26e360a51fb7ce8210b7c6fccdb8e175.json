{"ast":null,"code":"import _slicedToArray from\"C:/Users/landr/Desktop/React/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./contact.scss\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Contact(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),erreur=_useState8[0],setErreur=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),response=_useState10[0],setResponse=_useState10[1];var handleSubmit=function handleSubmit(evt){evt.preventDefault();setErreur('');//Verification du email\nvar regExp=new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$\",\"i\");if(!regExp.test(email.trim())){setErreur('Veuillez entrer un courriel valide.');return;}//Verification du message\nif(message===\"\"||message.length>250){setErreur('Vous devez entrer un message valide');return;}setIsLoading(true);var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var urlencoded=new URLSearchParams();urlencoded.append(encodeURIComponent(\"email\"),encodeURIComponent(email));urlencoded.append(encodeURIComponent(\"message\"),encodeURIComponent(message));//Permet de faire la requete\nfetch(\"https://guillaumeartiste3d.ca/wp-json/api/send\",{method:\"POST\",headers:myHeaders,body:urlencoded.toString(),redirect:'follow'}).then(function(response){return response.json();}).then(function(data){return console.log(data);}).catch(function(error){return console.log(error);}).finally(function(){setIsLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact\",id:\"contact\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/shake.svg\",alt:\"logo_svg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Contactez-moi:)\"}),!isLoading?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[response!==''&&/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:response}),erreur!==''&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red',fontWeight:600},children:erreur}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"Courriel\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",placeholder:\"Message\",id:\"message\",value:message,onChange:function onChange(e){return setMessage(e.target.value);},children:\" \"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:message.length>250?'red':'black'},children:[\"(\",message.length,\"/250)\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Envoyer\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://guillaumeartiste3d.ca/wp-content/uploads/Hourglass.gif\",alt:\"Loading_gif\"}),/*#__PURE__*/_jsx(\"span\",{style:{textAlign:'center'},children:\"Un moment svp.\"})]})]})]});}","map":{"version":3,"sources":["C:/Users/landr/Desktop/React/portfolio/src/components/contact/Contact.jsx"],"names":["useState","Contact","isLoading","setIsLoading","email","setEmail","message","setMessage","erreur","setErreur","response","setResponse","handleSubmit","evt","preventDefault","regExp","RegExp","test","trim","length","myHeaders","Headers","append","urlencoded","URLSearchParams","encodeURIComponent","fetch","method","headers","body","toString","redirect","then","json","data","console","log","catch","error","finally","color","fontWeight","e","target","value","textAlign"],"mappings":"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","sourcesContent":["import \"./contact.scss\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Contact() {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [erreur, setErreur] = useState('');\r\n    const [response, setResponse] = useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        setErreur('');\r\n\r\n        //Verification du email\r\n        let regExp = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$\", \"i\");\r\n        if (!regExp.test(email.trim())) {\r\n            setErreur('Veuillez entrer un courriel valide.')\r\n            return\r\n        }\r\n\r\n        //Verification du message\r\n        if (message === \"\" || message.length > 250) {\r\n            setErreur('Vous devez entrer un message valide')\r\n            return\r\n        }\r\n\r\n        setIsLoading(true);\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        var urlencoded = new URLSearchParams();\r\n        urlencoded.append(encodeURIComponent(\"email\"), encodeURIComponent(email));\r\n        urlencoded.append(encodeURIComponent(\"message\"), encodeURIComponent(message));\r\n        //Permet de faire la requete\r\n        fetch(\"https://guillaumeartiste3d.ca/wp-json/api/send\", {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: urlencoded.toString(),\r\n            redirect: 'follow'\r\n        }).then((response) => (response.json())).then((data) => console.log(data)).catch((error) => console.log(error)).finally(() => { setIsLoading(false) });\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"contact\" id=\"contact\">\r\n            <div className=\"left\">\r\n                <img src=\"assets/shake.svg\" alt=\"logo_svg\" />\r\n            </div>\r\n            <div className=\"right\">\r\n                <h2>Contactez-moi:)</h2>\r\n                {!isLoading ? (\r\n                    <form onSubmit={handleSubmit}>\r\n                        {response !== '' && <span style={{ color: 'green' }}>{response}</span>}\r\n                        {erreur !== '' && <span style={{ color: 'red', fontWeight: 600 }}>{erreur}</span>}\r\n                        <input type=\"email\" name=\"email\" id=\"email\" placeholder='Courriel' value={email} onChange={e => setEmail(e.target.value)} />\r\n                        <textarea name=\"message\" placeholder='Message' id=\"message\" value={message} onChange={e => setMessage(e.target.value)}> </textarea>\r\n                        <span style={{ color: message.length > 250 ? 'red' : 'black' }}>({message.length}/250)</span>\r\n                        <button type='submit'>Envoyer</button>\r\n                    </form>\r\n                ) : (\r\n                    <>\r\n                        <img src='https://guillaumeartiste3d.ca/wp-content/uploads/Hourglass.gif' alt='Loading_gif'></img>\r\n                        <span style={{ textAlign: 'center' }}>Un moment svp.</span>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}