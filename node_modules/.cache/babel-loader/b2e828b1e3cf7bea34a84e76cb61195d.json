{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landr\\\\Desktop\\\\React\\\\portfolio\\\\src\\\\components\\\\contact\\\\Contact.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./contact.scss\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Contact() {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [erreur, setErreur] = useState('');\n  const [response, setResponse] = useState('');\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setErreur(''); //Verification du email\n\n    let regExp = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$\", \"i\");\n\n    if (!regExp.test(email.trim())) {\n      setErreur('Veuillez entrer un courriel valide.');\n      return;\n    } //Verification du message\n\n\n    if (message === \"\" || message.length > 250) {\n      setErreur('Vous devez entrer un message valide');\n      return;\n    }\n\n    setIsLoading(true);\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    var urlencoded = new URLSearchParams();\n    urlencoded.append(encodeURIComponent(\"email\"), encodeURIComponent(email));\n    urlencoded.append(encodeURIComponent(\"message\"), encodeURIComponent(message)); //Permet de faire la requete\n\n    fetch(\"https://www.voyagesaprixfous.ca/wp-json/api/reservation\", {\n      method: \"POST\",\n      headers: myHeaders,\n      body: urlencoded.toString(),\n      redirect: 'follow'\n    }).then(response => response.json()).then(data => setResponse(data)).catch(error => console.log(error)).finally(() => {\n      setIsLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contact\",\n    id: \"contact\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"assets/shake.svg\",\n        alt: \"logo_svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Contactez-moi:)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), !isLoading ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [erreur !== '' && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red',\n            fontWeight: 600\n          },\n          children: erreur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          placeholder: \"Courriel\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"message\",\n          placeholder: \"Message\",\n          id: \"message\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: message.length > 250 ? 'red' : 'black'\n          },\n          children: [\"(\", message.length, \"/250)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://guillaumeartiste3d.ca/wp-content/uploads/Hourglass.gif\",\n        alt: \"Loading_gif\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Contact, \"1RvJuJ7GMoTp5M+d4xFpT9tuGIo=\");\n\n_c = Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"sources":["C:/Users/landr/Desktop/React/portfolio/src/components/contact/Contact.jsx"],"names":["useState","Contact","isLoading","setIsLoading","email","setEmail","message","setMessage","erreur","setErreur","response","setResponse","handleSubmit","evt","preventDefault","regExp","RegExp","test","trim","length","myHeaders","Headers","append","urlencoded","URLSearchParams","encodeURIComponent","fetch","method","headers","body","toString","redirect","then","json","data","catch","error","console","log","finally","color","fontWeight","e","target","value"],"mappings":"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","sourcesContent":["import \"./contact.scss\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Contact() {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [erreur, setErreur] = useState('');\r\n    const [response, setResponse] = useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        setErreur('');\r\n\r\n        //Verification du email\r\n        let regExp = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$\", \"i\");\r\n        if (!regExp.test(email.trim())) {\r\n            setErreur('Veuillez entrer un courriel valide.')\r\n            return\r\n        }\r\n\r\n        //Verification du message\r\n        if (message === \"\" || message.length > 250) {\r\n            setErreur('Vous devez entrer un message valide')\r\n            return\r\n        }\r\n\r\n        setIsLoading(true);\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        var urlencoded = new URLSearchParams();\r\n        urlencoded.append(encodeURIComponent(\"email\"), encodeURIComponent(email));\r\n        urlencoded.append(encodeURIComponent(\"message\"), encodeURIComponent(message));\r\n        //Permet de faire la requete\r\n        fetch(\"https://www.voyagesaprixfous.ca/wp-json/api/reservation\", {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: urlencoded.toString(),\r\n            redirect: 'follow'\r\n        }).then((response) => (response.json())).then((data) => setResponse(data)).catch((error) => console.log(error)).finally(() => { setIsLoading(false) });\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"contact\" id=\"contact\">\r\n            <div className=\"left\">\r\n                <img src=\"assets/shake.svg\" alt=\"logo_svg\" />\r\n            </div>\r\n            <div className=\"right\">\r\n                <h2>Contactez-moi:)</h2>\r\n                {!isLoading ? (\r\n                    <form onSubmit={handleSubmit}>\r\n                        {erreur !== '' && <span style={{ color: 'red', fontWeight: 600 }}>{erreur}</span>}\r\n                        <input type=\"email\" name=\"email\" id=\"email\" placeholder='Courriel' value={email} onChange={e => setEmail(e.target.value)} />\r\n                        <textarea name=\"message\" placeholder='Message' id=\"message\" value={message} onChange={e => setMessage(e.target.value)}> </textarea>\r\n                        <span style={{ color: message.length > 250 ? 'red' : 'black' }}>({message.length}/250)</span>\r\n                        <button type='submit'>Envoyer</button>\r\n                    </form>\r\n                ) : (<img src='https://guillaumeartiste3d.ca/wp-content/uploads/Hourglass.gif' alt='Loading_gif'></img>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}